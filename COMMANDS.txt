2- Alter session set "_ORACLE_SCRIPT"=true;
   CREATE USER ADIA2 IDENTIFIED BY 1234;

3- GRANT CREATE SESSION TO ADIA2;
   GRANT CREATE TABLE TO ADIA2;

4- CREATE TABLE LIVRE(
		NLIVRE varchar2(10) PRIMARY KEY,
		TITRE varchar2(10),
		PRIX number(8,2),
		NBPAGES number(4),
		ANNEE number(4)
	);
    CREATE TABLE PRET(
		NPRET VARCHAR2(10) PRIMARY KEY,
		NMEMBRE  varchar2(10),
		NLIVRE varchar2(10),
		DATEPRET date,
		DATERETOUR date,
		CONSTRAINT NMEMBRE FOREIGN KEY (NMEMBE) REFERENCES MEMBRE(NMEMBRE),
		CONSTRAINT NLIVRE FOREIGN KEY (NLIVRE) REFERENCES LIVRE(NLIVRE)
	);
   CREATE TABLE POSSEDE(
		NLIVRE varchar2(10),
		NAUTEUR varchar2(10),
		CONSTRAINT PK_POSSED PRIMARY KEY(NLIVRE,NAUTEUR),
		CONSTRAINT FK_NLIVRE FOREIGN KEY (NLIVRE) REFERENCES LIVRE (NLIVRE),
		CONSTRAINT FK_NAUTEUR FOREIGN KEY (NAUTEUR) REFERENCES LIVRE (NAUTEUR),
	);
    
    CREATE TABLE AUTEUR(
		NAUTEUR varchar2(10) PRIMARY KEY,
		NOM varchar2(20),
		PRENOM varchar2(20),
		NATIONNALITE varchar2(30)
	);
    CREATE TABLE MEMBRE(
		NMEMBRE varchar2(10) PRIMARY KEY,
		NOM varchar2(10),
		PRENOM varchar2(10),
		DATEINSCRIPTION DATE
	);

7- SELECT object_name, object_type
   FROM user_objects;

8- ALTER TABLE MEMBRE
   ADD email VARCHAR2(40);

9- ALTER TABLE MEMBRE
   ADD ADRESSE VARCHAR2(50);

10- ALTER TABLE PRET
    DROP CONSTRAINT FK_NLIVRE;
    
    ALTER TABLE PRET
    DROP CONSTRAINT FK_NMEMBRE;

11- ALTER TABLE PRET
    ADD CONSTRAINT fk_Nmembre FOREIGN KEY (Nmembre) REFERENCES MEMBRE(Nmembre);

    ALTER TABLE PRET
    ADD CONSTRAINT fk_NLIVR FOREIGN KEY (NLIVRE) REFERENCES LIVRE(NLIVRE);

12- ALTER TABLE PRET
    ADD CONSTRAINT PK_NPRETT PRIMARY KEY (NPRET);

13- ALTER TABLE LIVRE
    ADD Nauteur VARCHAR2(10);

    ALTER TABLE LIVRE
    ADD CONSTRAINT FK_NHAUTEUR FOREIGN KEY (NHAUTEUR) REFERENCES AUTEUR(NHAUTEUR);

14- DROP TABLE POSSEDE;

15- ALTER TABLE LIVRE
    ADD CONSTRAINT CK_TITRE CHECK (TITRE IS NOT NULL);

16- ALTER TABLE LIVRE
    ADD LANGUE VARCHAR2(50);

    ALTER TABLE LIVRE
    ADD NbreExemplaires NUMBER;

17- ALTER TABLE MEMBRE
    ADD CONSTRAINT UN_NOM_PRENOM UNIQUE (NOM, PRENOM);

18- CREATE INDEX id_Pret_P ON PRET(NPRET);
   
    CREATE INDEX id_Pret_M ON PRET(Nmembre);

19- CREATE INDEX NOM ON AUTEUR(nom);

    CREATE INDEX nom_prenom ON membre(nom, prenom);

    CREATE INDEX titre ON livre(titre);

20- SELECT index_name, table_name
    FROM user_indexes;

21- DROP INDEX NOM; 

22- ALTER TABLE PRET
    ADD CONSTRAINT check_dateRP CHECK (dateRetour >= datePret);

23- SELECT constraint_name, constraint_type, table_name
    FROM user_constraints;